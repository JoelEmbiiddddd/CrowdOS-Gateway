# CrowdOS-gateway

该项目是由**西北工业大学计算机学院“智能感知与计算工信部重点实验室与陕西省嵌入式系统技术重点实验室”** 为主要开发人员，主要针对于 **国家重点研发计划“物联网与智慧城市关键技术及示范”** 而进行研发，gateway是配合着我们自主研发的CrowdOS系统，解决城市群智感知的相关问题。



---



技术栈： 

Dubbo，Nacos，Nginx，Netty，shiro，



**我们整个微服务模块结构如下：**

| 序号 |      系统       |                             描述                             | 完成情况 |
| :--: | :-------------: | :----------------------------------------------------------: | :------: |
|  1   |  gateway-core   | 网关核心系统：用于网络通信转换处理，承接http请求，调用RPC服务，责任链模块调用 |    √     |
|  2   |  gateway-admin  |     网关管理系统：用于网关接口后台管理，注册下线停用控制     |          |
|  3   |   gateway-sdk   |     网关注册组件：用于注解方式采集接口，发送消息注册接口     |    √     |
|  4   | gateway-center  |     网关注册中心：提供网关注册中心服务，登记网关接口信息     |    √     |
|  5   | gateway-assist  | 网关服务中心：通信服务组件封装，用于包装gateway-core，通信服务组件封装，让springboot更加容易使用 |          |
|  6   | gateway-engine  |         网关引擎工程：将网关打包成jar放到容器中运行          |          |
|  7   | gateway-monitor |   网关监控日志：监控日志、生成各种运维管理报表、自动告警等   |          |
|  8   |  gateway-test   |           网关测试中心：对网关的运行进行测试使用的           |          |



**可以思考改进重构的点：**

1. 协议的解析和转换，Netty 怎么处理的这部分。PS：你们是啥什么技术栈实现？ 

2. 服务治理；熔断、降级、限流、黑白名单等控制，这部分也可以参考下 istio 服务网格化 
2. 并发体量；能支持好多大的体量，怎么设计支持的，是否可以横向扩展。有哪些路由手段。
2. 安全管理；鉴权、风控、浏览器指纹等，以及使用 SPI 机制进行扩展，同时支持业务使用方的 Plugin 插件扩展。
2. 流量监控；嵌入一些监控埋点，与全链路监控打通，Dapper、Pinpoint、Prometheus(普罗米修斯)等等



**我们为什么要重新设计一个网关而不是使用网上开源的API网关：**

像京东、阿里、美团都是有自己的API网关的，因为这样可以更好的控制网关和自身系统的结合，也可以添加各类自己需要的功能，以及支撑更大的流量。但网关这块的维护成本也不低，需要较大的团队来维护迭代。

---

请下载我们的测试项目，以验证各个子模块是否正常运行：https://github.com/JoelEmbiiddddd/CrowdOS-Gateway-Test